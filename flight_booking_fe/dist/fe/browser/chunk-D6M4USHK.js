import{D as m,F as f,I as c,Yb as g,Zb as a,dc as v,hc as l,o as n,rb as p,tb as d,u as s}from"./chunk-BSEN6LWU.js";var O=(()=>{class i{constructor(t,e){this.http=t,this.tokenService=e}getLocations(t){console.log("API call initiated for:",t);let e=this.tokenService.getAccessToken();return this.http.get(`${a}/flights/search/auto-complete`,{params:{keyword:t}}).pipe(m(o=>console.log("API response received:",o)))}searchOneWay(t){let e=`${a}/flights/search/one-way`,r=new p({fromObject:t});return this.http.get(e,{params:r}).pipe(s(o=>(console.error("An error occurred:",o),n(()=>new Error("Something went wrong; please try again later.")))))}searchRoundTrip(t){let e=`${a}/flights/search/round-trip`,r=new p({fromObject:t});return this.http.get(e,{params:r}).pipe(s(o=>(console.error("An error occurred:",o),n(()=>new Error("Something went wrong; please try again later.")))))}searchDetail(t,e){let r=`${a}/flights/search/detail`,o={itineraryId:t,token:e};return this.http.get(r,{params:o})}static{this.\u0275fac=function(e){return new(e||i)(c(d),c(g))}}static{this.\u0275prov=f({token:i,factory:i.\u0275fac})}}return i})();var F=(i,w)=>{let t=[],e;return e=i.map((r,o,h)=>{let y=l(r.departure),A=l(r.arrival),k=r.durationMinutes,S=w,I=r.marketingCarrier.name,T=r.origin.airport.name+" ("+r.origin.airport.displayCode+")",u=r.destination.airport.name+" ("+r.destination.airport.displayCode+")";if(o<h.length-1){let j=h[o+1],P=v(j.departure,r.arrival);t.push({duration:P,layoverAirport:u})}return{departureTime:y,departureAirport:T,arrivalTime:A,arrivalAirport:u,duration:k,flightLogoBrand:S,flightLogoBrandName:I}}),{flightSegmentInfo:e,layoverInfo:t}};export{O as a,F as b};
